"use strict";angular.module("yoApp",["ngAnimate","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","ngWebSocket","angular-round-slider","ui.bootstrap","ui.bootstrap-slider","uiSwitch","ui.toggle","ui-notification"]).config(["$routeProvider","NotificationProvider",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"MessengerCtrl",controllerAs:"akbCtrl"}).when("/charge",{templateUrl:"views/charge.html",controller:"ChargeCtrl",controllerAs:"chargeCtrl"}).when("/settings",{templateUrl:"views/settings.html",controller:"SettingsCtrl",controllerAs:"settings"}).otherwise({redirectTo:"/"}),b.setOptions({delay:1e4,startTop:20,startRight:10,verticalSpacing:20,horizontalSpacing:20,positionX:"right",positionY:"top"})}]),function($,window,undefined){function $proxy(a,b){return"function"==typeof $.proxy?$.proxy(a,b):function(c){a.call(b,c)}}function $data(a,b,c){return"function"==typeof $.data?$.data(a,b,c):c?void 0:$(a).hasClass("rs-control")}function $isPlainObject(a){if("function"==typeof $.isPlainObject)return $.isPlainObject(a);var b=JSON.stringify(a);return"object"==typeof a&&a.length===undefined&&b.length>2&&"{"===b.substr(0,1)&&"}"===b.substr(b.length-1)}function isNumber(a){return a=parseFloat(a),"number"==typeof a&&!isNaN(a)}function createElement(a){var b=a.split(".");return $(document.createElement(b[0])).addClass(b[1]||"")}function getdistance(a,b){return Math.sqrt((a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y))}function setTransform(a,b){return a.css("-webkit-transform","rotate("+b+"deg)"),a.css("-moz-transform","rotate("+b+"deg)"),a.css("-ms-transform","rotate("+b+"deg)"),a.css("-o-transform","rotate("+b+"deg)"),a.css("transform","rotate("+b+"deg)"),a}function RoundSlider(a,b){a.id&&(window[a.id]=this),this.control=$(a),this.options=$.extend({},this.defaults,b),this._raise("beforeCreate")!==!1?(this._init(),this._raise("create")):this._removeData()}function CreateRoundSlider(a,b){for(var c,d,e=0;e<this.length;e++)if(c=this[e],d=$data(c,pluginName)){if($isPlainObject(a))"function"==typeof d.option?d.option(a):c.id&&window[c.id]&&"function"==typeof window[c.id].option&&window[c.id].option(a);else if("string"==typeof a&&"function"==typeof d[a]){if(("option"===a||0===a.indexOf("get"))&&b[2]===undefined)return d[a](b[1]);d[a](b[1],b[2])}}else $data(c,pluginName,new RoundSlider(c,a));return this}var pluginName="roundSlider";$.fn[pluginName]=function(a){return CreateRoundSlider.call(this,a,arguments)},RoundSlider.prototype={pluginName:pluginName,version:"1.3",options:{},defaults:{min:0,max:100,step:1,value:null,radius:85,width:18,handleSize:"+0",startAngle:0,endAngle:"+360",animation:!0,showTooltip:!0,editableTooltip:!0,readOnly:!1,disabled:!1,keyboardAction:!0,mouseScrollAction:!1,lineCap:"square",sliderType:"default",circleShape:"full",handleShape:"round",beforeCreate:null,create:null,start:null,drag:null,change:null,stop:null,tooltipFormat:null},_props:function(){return{numberType:["min","max","step","radius","width","startAngle"],booleanType:["animation","showTooltip","editableTooltip","readOnly","disabled","keyboardAction","mouseScrollAction"],stringType:["sliderType","circleShape","handleShape","lineCap"]}},control:null,_init:function(){var a,b;this._isBrowserSupport=this._isBrowserSupported(),this._isKO=!1,this._isAngular=!1,this.control.is("input")&&(this._isInputType=!0,this._hiddenField=this.control,this.control=createElement("div"),this.control.insertAfter(this._hiddenField),this.options.value=this._hiddenField.val()||this.options.value,a=this,this._checkKO()&&setTimeout(function(){a._checkKO()},1),this._checkAngular()),this._bindOnDrag=!1,b=this._dataElement().attr("data-updateon"),"string"==typeof b?"drag"==b&&(this._bindOnDrag=!0):this._isAngular&&(this._bindOnDrag=!0),this._onInit()},_onInit:function(){this._initialize(),this._update(),this._render()},_initialize:function(){this._isBrowserSupport&&(this._isReadOnly=!1,this._checkDataType(),this._refreshCircleShape())},_render:function(){if(this.container=createElement("div.rs-container"),this.innerContainer=createElement("div.rs-inner-container"),this.block=createElement("div.rs-block rs-outer rs-border"),this.container.append(this.innerContainer.append(this.block)),this.control.addClass("rs-control").empty().append(this.container),this._setRadius(),this._isBrowserSupport)this._createLayers(),this._setProperties(),this._setValue(),this._updateTooltipPos(),this._bindControlEvents("_bind"),this._checkIE();else{var a=createElement("div.rs-msg");a.html("function"==typeof this._throwError?this._throwError():this._throwError),this.control.empty().addClass("rs-error").append(a),this._isInputType&&this.control.append(this._dataElement())}},_update:function(){this._validateSliderType(),this._updateStartEnd(),this._validateStartEnd(),this._handle1=this._handle2=this._handleDefaults(),this._analyzeModelValue(),this._validateModelValue()},_createLayers:function(){var a,b=this.options.width,c=this._start;a=createElement("div.rs-path rs-transition"),this._rangeSlider||this._showRange?(this.block1=a.clone().addClass("rs-range-color").rsRotate(c),this.block2=a.clone().addClass("rs-range-color").css("opacity","0").rsRotate(c),this.block3=a.clone().addClass("rs-path-color").rsRotate(c),this.block4=a.addClass("rs-path-color").css({opacity:"1","z-index":"1"}).rsRotate(c-180),this.block.append(this.block1,this.block2,this.block3,this.block4).addClass("rs-split")):this.block.append(a.addClass("rs-path-color")),this.lastBlock=createElement("span.rs-block").css({padding:b}),this.innerBlock=createElement("div.rs-inner rs-bg-color rs-border"),this.lastBlock.append(this.innerBlock),this.block.append(this.lastBlock),this._appendHandle(),this._appendOverlay(),this._appendHiddenField()},_setProperties:function(){this._updatePre(),this._setHandleShape(),this._addAnimation(),this._appendTooltip(),this.options.showTooltip||this._removeTooltip(),this.options.disabled?this.disable():this.options.readOnly&&this._readOnly(!0),this.options.mouseScrollAction&&this._bindScrollEvents("_bind")},_updatePre:function(){this._prechange=this._predrag=this.options.value},_setValue:function(){if(this._rangeSlider)this._setHandleValue(1),this._setHandleValue(2);else{this._showRange&&this._setHandleValue(1);var a="default"==this.options.sliderType?this._active||1:parseFloat(this.bar.children().attr("index"));this._setHandleValue(a)}},_appendTooltip:function(){0===this.container.children(".rs-tooltip").length&&(this.tooltip=createElement("span.rs-tooltip rs-tooltip-text"),this.container.append(this.tooltip),this._tooltipEditable(),this._updateTooltip())},_removeTooltip:function(){0!=this.container.children(".rs-tooltip").length&&this.tooltip&&this.tooltip.remove()},_tooltipEditable:function(){if(this.tooltip&&this.options.showTooltip){var a;this.options.editableTooltip?(this.tooltip.addClass("edit"),a="_bind"):(this.tooltip.removeClass("edit"),a="_unbind"),this[a](this.tooltip,"click",this._editTooltip)}},_editTooltip:function(){if(this.tooltip.hasClass("edit")&&!this._isReadOnly){var a=2*parseFloat(this.tooltip.css("border-left-width"));this.input=createElement("input.rs-input rs-tooltip-text").css({height:this.tooltip.outerHeight()-a,width:this.tooltip.outerWidth()-a}),this.tooltip.html(this.input).removeClass("edit").addClass("hover"),this.input.focus().val(this._getTooltipValue(!0)),this._bind(this.input,"blur",this._focusOut),this._bind(this.input,"change",this._focusOut)}},_focusOut:function(a){"change"==a.type?(this.options.value=this.input.val().replace("-",","),this._analyzeModelValue(),this._validateModelValue(),this._setValue(),this.input.val(this._getTooltipValue(!0))):(this.tooltip.addClass("edit").removeClass("hover"),this._updateTooltip()),this._raiseEvent("change")},_setHandleShape:function(){var a=this.options.handleShape;this._handles().removeClass("rs-handle-dot rs-handle-square"),"dot"==a?this._handles().addClass("rs-handle-dot"):"square"==a?this._handles().addClass("rs-handle-square"):this.options.handleShape=this.defaults.handleShape},_setHandleValue:function(a){this._active=a;var b=this["_handle"+a];"min-range"!=this.options.sliderType&&(this.bar=this._activeHandleBar()),this._changeSliderValue(b.value,b.angle)},_setAnimation:function(){this.options.animation?this._addAnimation():this._removeAnimation()},_addAnimation:function(){this.options.animation&&this.control.addClass("rs-animation")},_removeAnimation:function(){this.control.removeClass("rs-animation")},_setRadius:function(){var a,b,c=this.options.radius,d=2*c,e=this.options.circleShape,f=d,g=d;if(this.container.removeClass().addClass("rs-container"),0===e.indexOf("half")){switch(e){case"half-top":case"half-bottom":f=c,g=d;break;case"half-left":case"half-right":f=d,g=c}this.container.addClass(e.replace("half-","")+" half")}else 0===e.indexOf("quarter")?(f=g=c,a=e.split("-"),this.container.addClass(a[0]+" "+a[1]+" "+a[2])):this.container.addClass("full "+e);b={height:f,width:g},this.control.css(b),this.container.css(b)},_border:function(a){return a?parseFloat(this._startLine.children().css("border-bottom-width")):2*parseFloat(this.block.css("border-top-width"))},_appendHandle:function(){(this._rangeSlider||!this._showRange)&&this._createHandle(1),(this._rangeSlider||this._showRange)&&this._createHandle(2),this._startLine=this._addSeperator(this._start,"rs-start"),this._endLine=this._addSeperator(this._start+this._end,"rs-end"),this._refreshSeperator()},_addSeperator:function(a,b){var c=createElement("span.rs-seperator rs-border"),d=(this.options.width,this._border(),createElement("span.rs-bar rs-transition "+b).append(c).rsRotate(a));return this.container.append(d),d},_refreshSeperator:function(){var a=this._startLine.add(this._endLine),b=a.children().removeAttr("style"),c=this.options,d=c.width,e=this._border(),f=d+e;"round"==c.lineCap&&"full"!=c.circleShape?(a.addClass("rs-rounded"),b.css({width:f,height:f/2+1}),this._startLine.children().css("margin-top",-1).addClass("min-range"==c.sliderType?"rs-range-color":"rs-path-color"),this._endLine.children().css("margin-top",f/-2).addClass("rs-path-color")):(a.removeClass("rs-rounded"),b.css({width:f,"margin-top":this._border(!0)/-2}).removeClass("rs-range-color rs-path-color"))},_updateSeperator:function(){this._startLine.rsRotate(this._start),this._endLine.rsRotate(this._start+this._end)},_createHandle:function(a){var b,c,d=createElement("div.rs-handle rs-move"),e=this.options;"round"!=(b=e.handleShape)&&d.addClass("rs-handle-"+b),d.attr({index:a,tabIndex:"0"});var f=this._dataElement()[0].id,f=f?f+"_":"",g=f+"handle"+("range"==e.sliderType?"_"+(1==a?"start":"end"):"");return d.attr({role:"slider","aria-label":g}),c=createElement("div.rs-bar rs-transition").css("z-index","7").append(d).rsRotate(this._start),c.addClass("range"==e.sliderType&&2==a?"rs-second":"rs-first"),this.container.append(c),this._refreshHandle(),this.bar=c,this._active=a,1!=a&&2!=a&&(this["_handle"+a]=this._handleDefaults()),this._bind(d,"focus",this._handleFocus),this._bind(d,"blur",this._handleBlur),d},_refreshHandle:function(){var hSize=this.options.handleSize,h,w,isSquare=!0,s,diff;if("string"==typeof hSize&&isNumber(hSize))if("+"===hSize.charAt(0)||"-"===hSize.charAt(0))try{hSize=eval(this.options.width+hSize.charAt(0)+Math.abs(parseFloat(hSize)))}catch(e){console.warn(e)}else hSize.indexOf(",")&&(s=hSize.split(","),isNumber(s[0])&&isNumber(s[1])&&(w=parseFloat(s[0]),h=parseFloat(s[1]),isSquare=!1));isSquare&&(h=w=isNumber(hSize)?parseFloat(hSize):this.options.width),diff=(this.options.width+this._border()-w)/2,this._handles().css({height:h,width:w,margin:-h/2+"px 0 0 "+diff+"px"})},_handleDefaults:function(){return{angle:this._valueToAngle(this.options.min),value:this.options.min}},_handles:function(){return this.container.children("div.rs-bar").find(".rs-handle")},_activeHandleBar:function(a){return a=a!=undefined?a:this._active,$(this.container.children("div.rs-bar")[a-1])},_handleArgs:function(a){a=a!=undefined?a:this._active;var b=this["_handle"+a];return{element:this._activeHandleBar(a).children(),index:a,isActive:a==this._active,value:b?b.value:null,angle:b?b.angle:null}},_dataElement:function(){return this._isInputType?this._hiddenField:this.control},_raiseEvent:function(a){var b=this["_pre"+a];return b!==this.options.value?(this["_pre"+a]=this.options.value,this._updateTooltip(),("change"==a||this._bindOnDrag&&"drag"==a)&&this._updateHidden(),this._raise(a,{value:this.options.value,preValue:b,handle:this._handleArgs()})):void 0},_elementDown:function(a){var b,c,d,e,f;if(!this._isReadOnly)if(b=$(a.target),b.hasClass("rs-handle"))this._handleDown(a);else{var g=this._getXY(a),h=this._getCenterPoint(),i=getdistance(g,h),j=this.block.outerWidth()/2,k=j-(this.options.width+this._border());i>=k&&j>=i&&(a.preventDefault(),c=this.control.find(".rs-handle.rs-focus"),this.control.attr("tabindex","0").focus().removeAttr("tabindex"),b.hasClass("rs-seperator")?(e=b.parent().hasClass("rs-start")?this.options.min:this.options.max,d=this._valueToAngle(e)):(f=this._getAngleValue(g,h),d=f.angle,e=f.value),this._rangeSlider&&(c=this.control.find(".rs-handle.rs-focus"),this._active=1==c.length?parseFloat(c.attr("index")):this._handle2.value-e<e-this._handle1.value?2:1,this.bar=this._activeHandleBar()),this._changeSliderValue(e,d),this._raiseEvent("change"))}},_handleDown:function(a){a.preventDefault();var b=$(a.target);b.focus(),this._removeAnimation(),this._bindMouseEvents("_bind"),this.bar=b.parent(),this._active=parseFloat(b.attr("index")),this._handles().removeClass("rs-move"),this._raise("start",{value:this.options.value,handle:this._handleArgs()})},_handleMove:function(a){a.preventDefault();var b,c,d=this._getXY(a),e=this._getCenterPoint(),f=this._getAngleValue(d,e,!0);b=f.angle,c=f.value,this._changeSliderValue(c,b),this._raiseEvent("drag")},_handleUp:function(){this._handles().addClass("rs-move"),this._bindMouseEvents("_unbind"),this._addAnimation(),this._raiseEvent("change"),this._raise("stop",{value:this.options.value,handle:this._handleArgs()})},_handleFocus:function(a){if(!this._isReadOnly){var b=$(a.target);this._handles().removeClass("rs-focus"),b.addClass("rs-focus"),this.bar=b.parent(),this._active=parseFloat(b.attr("index")),this.options.keyboardAction&&(this._bindKeyboardEvents("_unbind"),this._bindKeyboardEvents("_bind")),this.control.find("div.rs-bar").css("z-index","7"),this.bar.css("z-index","8")}},_handleBlur:function(){this._handles().removeClass("rs-focus"),this.options.keyboardAction&&this._bindKeyboardEvents("_unbind")},_handleKeyDown:function(a){var b,c,d,e;this._isReadOnly||(b=a.keyCode,27==b&&this._handles().blur(),b>=35&&40>=b&&(b>=37&&40>=b&&this._removeAnimation(),c=this["_handle"+this._active],a.preventDefault(),38==b||37==b?d=this._round(this._limitValue(c.value+this.options.step)):39==b||40==b?d=this._round(this._limitValue(c.value-this._getMinusStep(c.value))):36==b?d=this._getKeyValue("Home"):35==b&&(d=this._getKeyValue("End")),e=this._valueToAngle(d),this._changeSliderValue(d,e),this._raiseEvent("change")))},_handleKeyUp:function(){this._addAnimation()},_getMinusStep:function(a){if(a==this.options.max){var b=(this.options.max-this.options.min)%this.options.step;return 0==b?this.options.step:b}return this.options.step},_getKeyValue:function(a){return this._rangeSlider?"Home"==a?1==this._active?this.options.min:this._handle1.value:1==this._active?this._handle2.value:this.options.max:"Home"==a?this.options.min:this.options.max},_elementScroll:function(a){if(!this._isReadOnly){a.preventDefault();var b,c,d,e,f=a.originalEvent||a;e=f.wheelDelta?f.wheelDelta/60:f.detail?-f.detail/2:0,0!=e&&(this._updateActiveHandle(a),b=this["_handle"+this._active],c=b.value+(e>0?this.options.step:-this._getMinusStep(b.value)),c=this._limitValue(c),d=this._valueToAngle(c),this._removeAnimation(),this._changeSliderValue(c,d),this._raiseEvent("change"),this._addAnimation())}},_updateActiveHandle:function(a){var b=$(a.target);b.hasClass("rs-handle")&&b.parent().parent()[0]==this.control[0]&&(this.bar=b.parent(),this._active=parseFloat(b.attr("index"))),this.bar.find(".rs-handle").hasClass("rs-focus")||this.bar.find(".rs-handle").focus()},_bindControlEvents:function(a){this[a](this.control,"mousedown",this._elementDown),this[a](this.control,"touchstart",this._elementDown)},_bindScrollEvents:function(a){this[a](this.control,"mousewheel",this._elementScroll),this[a](this.control,"DOMMouseScroll",this._elementScroll)},_bindMouseEvents:function(a){this[a]($(document),"mousemove",this._handleMove),this[a]($(document),"mouseup",this._handleUp),this[a]($(document),"mouseleave",this._handleUp),this[a]($(document),"touchmove",this._handleMove),this[a]($(document),"touchend",this._handleUp),this[a]($(document),"touchcancel",this._handleUp)},_bindKeyboardEvents:function(a){this[a]($(document),"keydown",this._handleKeyDown),this[a]($(document),"keyup",this._handleKeyUp)},_changeSliderValue:function(a,b){var c=this._oriAngle(b),d=this._limitAngle(b);if(this._rangeSlider||this._showRange){if(1==this._active&&c<=this._oriAngle(this._handle2.angle)||2==this._active&&c>=this._oriAngle(this._handle1.angle)||this._invertRange){this["_handle"+this._active]={angle:b,value:a},this.options.value=this._rangeSlider?this._handle1.value+","+this._handle2.value:a,this.bar.rsRotate(d),this._updateARIA(a);var e=this._oriAngle(this._handle2.angle)-this._oriAngle(this._handle1.angle),f="1",g="0";180>=e&&!(0>e&&e>-180)&&(f="0",g="1"),this.block2.css("opacity",f),this.block3.css("opacity",g),(1==this._active?this.block4:this.block2).rsRotate(d-180),(1==this._active?this.block1:this.block3).rsRotate(d)}}else this["_handle"+this._active]={angle:b,value:a},this.options.value=a,this.bar.rsRotate(d),this._updateARIA(a)},_updateARIA:function(a){var b,c=this.options.min,d=this.options.max;this.bar.children().attr({"aria-valuenow":a}),"range"==this.options.sliderType?(b=this._handles(),b.eq(0).attr({"aria-valuemin":c}),b.eq(1).attr({"aria-valuemax":d}),1==this._active?b.eq(1).attr({"aria-valuemin":a}):b.eq(0).attr({"aria-valuemax":a})):this.bar.children().attr({"aria-valuemin":c,"aria-valuemax":d})},_checkKO:function(){var a,b,c,d,e,f=this._dataElement().data("bind");if("string"==typeof f&&"object"==typeof ko){if(a=ko.dataFor(this._dataElement()[0]),"undefined"==typeof a)return!0;for(b=f.split(","),d=0;d<b.length;d++)if(e=b[d].split(":"),"value"==$.trim(e[0])){c=$.trim(e[1]);break}c&&(this._isKO=!0,ko.computed(function(){this.option("value",a[c]())},this))}},_checkAngular:function(){if("object"==typeof angular&&"function"==typeof angular.element&&(this._ngName=this._dataElement().attr("ng-model"),"string"==typeof this._ngName)){this._isAngular=!0;var a=this;this._scope().$watch(this._ngName,function(b){a.option("value",b)})}},_scope:function(){return angular.element(this._dataElement()).scope()},_getXY:function(a){return-1==a.type.indexOf("mouse")&&(a=(a.originalEvent||a).changedTouches[0]),{x:a.pageX,y:a.pageY}},_getCenterPoint:function(){var a=this.block.offset();return{x:a.left+this.block.outerWidth()/2,y:a.top+this.block.outerHeight()/2}},_getAngleValue:function(a,b,c){var d=Math.atan2(a.y-b.y,b.x-a.x),e=-d/(Math.PI/180);return e<this._start&&(e+=360),e=this._checkAngle(e,c),this._processStepByAngle(e)},_checkAngle:function(a,b){var c,d=this._oriAngle(a),e=this["_handle"+this._active].angle,f=this._oriAngle(e);if(d>this._end){if(!b)return e;a=this._start+(f<=this._end-f?0:this._end)}else if(b&&(c=this._handleDragDistance,isNumber(c)&&Math.abs(d-f)>c))return e;return a},_processStepByAngle:function(a){var b=this._angleToValue(a);return this._processStepByValue(b)},_processStepByValue:function(a){var b,c,d,e,f,g,h=this.options.step;return b=(a-this.options.min)%h,c=a-b,d=this._limitValue(c+h),e=this._limitValue(c-h),f=a>=c?d-a>a-c?c:d:c-a>a-e?c:e,f=this._round(f),g=this._valueToAngle(f),{value:f,angle:g}},_round:function(a){var b=this.options.step.toString().split(".");return b[1]?parseFloat(a.toFixed(b[1].length)):Math.round(a)},_oriAngle:function(a){var b=a-this._start;return 0>b&&(b+=360),b},_limitAngle:function(a){return a>360+this._start&&(a-=360),a<this._start&&(a+=360),a},_limitValue:function(a){return a<this.options.min&&(a=this.options.min),a>this.options.max&&(a=this.options.max),a},_angleToValue:function(a){var b=this.options;return this._oriAngle(a)/this._end*(b.max-b.min)+b.min},_valueToAngle:function(a){var b=this.options;return(a-b.min)/(b.max-b.min)*this._end+this._start},_appendHiddenField:function(){this._hiddenField=this._hiddenField||createElement("input"),this._hiddenField.attr({type:"hidden",name:this._dataElement()[0].id||""}),this.control.append(this._hiddenField),this._updateHidden()},_updateHidden:function(){var a=this.options.value;this._hiddenField.val(a),(this._isKO||this._isAngular)&&this._hiddenField.trigger("change"),this._isAngular&&(this._scope()[this._ngName]=a)},_updateTooltip:function(){this.tooltip&&!this.tooltip.hasClass("hover")&&this.tooltip.html(this._getTooltipValue()),this._updateTooltipPos()},_updateTooltipPos:function(){this.tooltip&&this.tooltip.css(this._getTooltipPos())},_getTooltipPos:function(){var a,b=this.options.circleShape;if("full"==b||"pie"==b||0===b.indexOf("custom"))return{"margin-top":-this.tooltip.outerHeight()/2,"margin-left":-this.tooltip.outerWidth()/2};if(-1!=b.indexOf("half")){switch(b){case"half-top":case"half-bottom":a={"margin-left":-this.tooltip.outerWidth()/2};break;case"half-left":case"half-right":a={"margin-top":-this.tooltip.outerHeight()/2}}return a}return{}},_getTooltipValue:function(a){if(this._rangeSlider){var b=this.options.value.split(",");return a?b[0]+" - "+b[1]:this._tooltipValue(b[0],1)+" - "+this._tooltipValue(b[1],2)}return a?this.options.value:this._tooltipValue(this.options.value)},_tooltipValue:function(a,b){var c=this._raise("tooltipFormat",{value:a,handle:this._handleArgs(b)});return null!=c&&"boolean"!=typeof c?c:a},_validateStartAngle:function(){var a=this.options.startAngle;return a=(isNumber(a)?parseFloat(a):0)%360,0>a&&(a+=360),this.options.startAngle=a,a},_validateEndAngle:function(){var end=this.options.endAngle;if("string"==typeof end&&isNumber(end)&&("+"===end.charAt(0)||"-"===end.charAt(0)))try{end=eval(this.options.startAngle+end.charAt(0)+Math.abs(parseFloat(end)))}catch(e){console.warn(e)}return end=(isNumber(end)?parseFloat(end):360)%360,end<=this.options.startAngle&&(end+=360),end},_refreshCircleShape:function(){var a,b=this.options.circleShape,c=["half-top","half-bottom","half-left","half-right","quarter-top-left","quarter-top-right","quarter-bottom-right","quarter-bottom-left","pie","custom-half","custom-quarter"];-1==c.indexOf(b)&&(a=["h1","h2","h3","h4","q1","q2","q3","q4","3/4","ch","cq"].indexOf(b),b=-1!=a?c[a]:"half"==b?"half-top":"quarter"==b?"quarter-top-left":"full"),this.options.circleShape=b},_appendOverlay:function(){var a=this.options.circleShape;"pie"==a?this._checkOverlay(".rs-overlay",270):("custom-half"==a||"custom-quarter"==a)&&(this._checkOverlay(".rs-overlay1",180),"custom-quarter"==a&&this._checkOverlay(".rs-overlay2",this._end))},_checkOverlay:function(a,b){var c=this.container.children(a);0==c.length&&(c=createElement("div"+a+" rs-transition rs-bg-color"),this.container.append(c)),c.rsRotate(this._start+b)},_checkDataType:function(){var a,b,c,d=this.options,e=this._props();for(a in e.numberType)b=e.numberType[a],c=d[b],d[b]=isNumber(c)?parseFloat(c):this.defaults[b];for(a in e.booleanType)b=e.booleanType[a],c=d[b],d[b]="false"==c?!1:!!c;for(a in e.stringType)b=e.stringType[a],c=d[b],d[b]=(""+c).toLowerCase()},_validateSliderType:function(){var a=this.options.sliderType.toLowerCase();this._rangeSlider=this._showRange=!1,"range"==a?this._rangeSlider=this._showRange=!0:-1!=a.indexOf("min")?(this._showRange=!0,a="min-range"):a="default",this.options.sliderType=a},_updateStartEnd:function(){var a=this.options.circleShape;"full"!=a&&(-1!=a.indexOf("quarter")?this.options.endAngle="+90":-1!=a.indexOf("half")?this.options.endAngle="+180":"pie"==a&&(this.options.endAngle="+270"),"quarter-top-left"==a||"half-top"==a?this.options.startAngle=0:"quarter-top-right"==a||"half-right"==a?this.options.startAngle=90:"quarter-bottom-right"==a||"half-bottom"==a?this.options.startAngle=180:("quarter-bottom-left"==a||"half-left"==a)&&(this.options.startAngle=270))},_validateStartEnd:function(){this._start=this._validateStartAngle(),this._end=this._validateEndAngle();var a=this._start<this._end?0:360;this._end+=a-this._start},_analyzeModelValue:function(){var a,b,c,d=this.options.value,e=this.options.min,f=this.options.max;d instanceof Array&&(d=d.toString()),c="string"==typeof d?d.split(","):[d],this._rangeSlider?b="string"==typeof d?c.length>=2?(isNumber(c[0])?c[0]:e)+","+(isNumber(c[1])?c[1]:f):isNumber(c[0])?e+","+c[0]:e+","+e:isNumber(d)?e+","+d:e+","+e:"string"==typeof d?(a=c.pop(),b=isNumber(a)?parseFloat(a):e):b=isNumber(d)?parseFloat(d):e,this.options.value=b},_validateModelValue:function(){var a,b=this.options.value;if(this._rangeSlider){var c=b.split(","),d=parseFloat(c[0]),e=parseFloat(c[1]);d=this._limitValue(d),e=this._limitValue(e),this._invertRange||d>e&&(e=d),this._handle1=this._processStepByValue(d),this._handle2=this._processStepByValue(e),this.options.value=this._handle1.value+","+this._handle2.value}else a=this._showRange?2:this._active||1,this["_handle"+a]=this._processStepByValue(this._limitValue(b)),this._showRange&&(this._handle1=this._handleDefaults()),this.options.value=this["_handle"+a].value},_isBrowserSupported:function(){for(var a=["borderRadius","WebkitBorderRadius","MozBorderRadius","OBorderRadius","msBorderRadius","KhtmlBorderRadius"],b=0;b<a.length;b++)if(document.body.style[a[b]]!==undefined)return!0},_throwError:function(){return"This browser doesn't support the border-radious property."},_checkIE:function(){var a=window.navigator.userAgent;(a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0)&&this.control.css({"-ms-touch-action":"none","touch-action":"none"})},_raise:function(a,b){var c=this.options,d=c[a],e=!0;return b=b||{value:c.value},b.options=c,d&&(b.type=a,"string"==typeof d&&(d=window[d]),$.isFunction(d)&&(e=d.call(this,b),e=e===!1?!1:e)),this.control.trigger($.Event?$.Event(a,b):a),e},_bind:function(a,b,c){$(a).bind(b,$proxy(c,this))},_unbind:function(a,b,c){$.proxy?$(a).unbind(b,$.proxy(c,this)):$(a).unbind(b)},_getInstance:function(){return $data(this._dataElement()[0],pluginName)},_removeData:function(){var a=this._dataElement()[0];$.removeData&&$.removeData(a,pluginName),a.id&&delete window[a.id]},_destroyControl:function(){this._isInputType&&this._dataElement().insertAfter(this.control).attr("type","text"),this.control.empty().removeClass("rs-control").height("").width(""),this._removeAnimation(),this._bindControlEvents("_unbind")},_updateWidth:function(){this.lastBlock.css("padding",this.options.width),this._refreshHandle()},_readOnly:function(a){this._isReadOnly=a,this.container.removeClass("rs-readonly"),a&&this.container.addClass("rs-readonly")},_get:function(a){return this.options[a]},_set:function(a,b){var c=this._props();if(-1!=$.inArray(a,c.numberType)){if(!isNumber(b))return;b=parseFloat(b)}else-1!=$.inArray(a,c.booleanType)?b="false"==b?!1:!!b:-1!=$.inArray(a,c.stringType)&&(b=b.toLowerCase());if(this.options[a]!=b){switch(this.options[a]=b,a){case"startAngle":case"endAngle":this._validateStartEnd(),this._updateSeperator(),this._appendOverlay();case"min":case"max":case"step":case"value":this._analyzeModelValue(),this._validateModelValue(),this._setValue(),this._updatePre(),this._updateHidden(),this._updateTooltip();break;case"radius":this._setRadius(),this._updateTooltipPos();break;case"width":this._removeAnimation(),this._updateWidth(),this._updateTooltipPos(),this._addAnimation(),this._refreshSeperator();break;case"handleSize":this._refreshHandle();break;case"handleShape":this._setHandleShape();break;case"animation":this._setAnimation();break;case"showTooltip":this.options.showTooltip?this._appendTooltip():this._removeTooltip();break;case"editableTooltip":this._tooltipEditable(),this._updateTooltipPos();break;case"disabled":this.options.disabled?this.disable():this.enable();break;case"readOnly":this.options.readOnly?this._readOnly(!0):!this.options.disabled&&this._readOnly(!1);break;case"mouseScrollAction":this._bindScrollEvents(this.options.mouseScrollAction?"_bind":"_unbind");break;case"lineCap":this._refreshSeperator();break;case"circleShape":this._refreshCircleShape(),"full"==this.options.circleShape&&(this.options.startAngle=0,this.options.endAngle="+360");case"sliderType":this._destroyControl(),this._onInit()}return this}},option:function(a,b){if(this._getInstance()&&this._isBrowserSupport){if($isPlainObject(a)){(a.min!==undefined||a.max!==undefined)&&(a.min!==undefined&&(this.options.min=a.min,delete a.min),a.max!==undefined&&(this.options.max=a.max,delete a.max),a.value==undefined&&this._set("value",this.options.value));for(var c in a)this._set(c,a[c])}else if(a&&"string"==typeof a){if(b===undefined)return this._get(a);this._set(a,b)}return this}},getValue:function(a){if("range"==this.options.sliderType&&isNumber(a)){var b=parseFloat(a);if(1==b||2==b)return this["_handle"+b].value}return this._get("value")},setValue:function(a,b){if(isNumber(a)){if(isNumber(b))if("range"==this.options.sliderType){var c=parseFloat(b),d=parseFloat(a);1==c?a=d+","+this._handle2.value:2==c&&(a=this._handle1.value+","+d)}else"default"==this.options.sliderType&&(this._active=b);this._set("value",a)}},disable:function(){this.options.disabled=!0,this.container.addClass("rs-disabled"),this._readOnly(!0)},enable:function(){this.options.disabled=!1,this.container.removeClass("rs-disabled"),this.options.readOnly||this._readOnly(!1)},destroy:function(){this._getInstance()&&(this._destroyControl(),this._removeData(),this._isInputType&&this.control.remove())}},$.fn.rsRotate=function(a){return setTransform(this,a)},"undefined"==typeof $.fn.outerHeight&&($.fn.outerHeight=function(){return this[0].offsetHeight},$.fn.outerWidth=function(){return this[0].offsetWidth}),"undefined"==typeof $.fn.hasClass&&($.fn.hasClass=function(a){return-1!==this[0].className.split(" ").indexOf(a)}),"undefined"==typeof $.fn.offset&&($.fn.offset=function(){return{left:this[0].offsetLeft,top:this[0].offsetTop}}),$.fn[pluginName].prototype=RoundSlider.prototype}(jQuery,window),angular.module("angular-round-slider",[]).directive("roundSlider",function(){return{restrict:"AEC",replace:!0,template:"",scope:{value:"=",radius:"="},link:function(a,b,c){b.roundSlider({radius:a.radius||85,sliderType:"min-range",value:a.value||40}),b.bind("drag",function(){a.$apply(function(){a.value=b.data("roundSlider").getValue()})})}}}),angular.module("yoApp").controller("MainCtrl",["$scope","Messages","Notification",function(a,b,c){a.form=b.collection,a.model=b,a.primary=function(){c("Primary notification")},a.primary(),a.error=function(){c.error("Error notification")},a.success=function(a){c.success(a)},a.info=function(){c.info("Information notification")},a.warning=function(){c.warning("Warning notification")},a.wsConnect=function(a){b.connect("ip")},a.wsStatus=b.status,a.wsSend=function(){console.log(a.form),b.send(a.form)},a.ip="esp8266fs.local.",a.defs={I:{min:0,max:12,key:"A",step:"0.3"},U:{min:1,max:16,key:"В",step:"0.1"},H:{min:0,max:24,key:"ч.",step:1},IH:{min:100,max:600,key:"А/ч",step:"1"},M:{min:0,max:240,key:"мин.",step:"1"},S:{min:30,max:180,key:"сек",step:"1"},PROC:{min:0,max:100,key:"%",step:"1"}},console.log(b.status())}]),angular.module("yoApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("yoApp").controller("MessengerCtrl",["$scope","$http","Messages",function(a,b,c){a.model=c,a.form=c.collection,a.log=c.log,a.slider={value:50,options:{floor:0,ceil:100,step:1,minLimit:10,maxLimit:90}}}]),angular.module("yoApp").factory("Messages",["$websocket",function(a){function b(b){return a("ws://"+b+"/ws",null,{reconnectIfNotNormalClose:!0
})}var c=location.hostname;"localhost"===c?(c="esp8266fs.local.",c="10.11.1.249"):"balsat.2d-it.ru"===c&&(c="ws.2d-it.ru");var d=b(c),e={},f=[];return d.onMessage(function(a){console.log("timestamp:"+a.timeStamp+"  %c rs232:  "+a.data,"background: #222; color: #bada55");var b;try{b=JSON.parse(a.data)}catch(c){console.error("JSON.parse filed",a.data)}Object.assign(e,b),f.push(b)}),d.onError(function(a){console.error("connection Error",a)}),d.onClose(function(a){console.log("connection closed",a)}),d.onOpen(function(){console.log("connection open"),d.send("ping")}),{collection:e,log:f,status:function(){return d.readyState},send:function(a){angular.isString(a)?d.send(a):angular.isObject(a)&&d.send(JSON.stringify(a))},connect:function(a){return a}}}]),angular.module("yoApp").filter("capitalize",function(){function a(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()}return function(b,c){return b?c?b.replace(/([^\W_]+[^\s-]*) */g,a):a(b):""}}),angular.module("yoApp").controller("AkbCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("yoApp").controller("ChargeCtrl",["$scope","Messages","$http",function(a,b,c){a.model=b,a.form=b.collection,a.log=b.log,a.slider={value:50,options:{floor:0,ceil:100,step:1,minLimit:10,maxLimit:90}}}]),angular.module("yoApp").directive("bslider",function(){return{templateUrl:"bslider.html",scope:{bindModel:"=ngModel",defs:"=defs"},transclude:!0,link:function(a,b,c){}}}),angular.module("yoApp").controller("SettingsCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("yoApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/akb.html",'<script type="text/ng-template" id="edit.akb.html"><div class="modal-header">\n     <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="cancel()">x</button>\n     <h4>ЗАРЯД АКБ <small>Редактирование профиля</small></h4>\n  </div>\n  <div class="modal-body">\n    <!-- ПРОФИЛЬ -->\n\n  </div></script> <!--\nsmainZU Максимальное напряжение (В): "min": ~smainZUl~, "max": ~smainZUh~\nslastZU Напряжение начала снижения тока(В): "min": ~slastZUl~, "max": ~slastZUh~\nsmainZI Максимальный ток (A): "min": ~smainZIl~, "max": ~smainZIh~\nsmainZRQ Длительность заряда за период (с): "min": 5, "max": 25\nsmainZRD Длительность разряда от длительности заряда (%): "min": 10, "max": 50\nslastZFI Ток окончания заряда (А): "min": ~slastZFIl~, "max": ~slastZFIh~\nslastZFT Выдержка при установленном напряжении (ч): "min": 1, "max": 6\nsrvlowZI Максимальный ток (A): "min": ~srvlowZIl~, "max": ~srvlowZIh~\nsrvlowZT Максимальная длительность паузы (с): "min": 1, "max": 300\nsrvlowZH Продолжительность дозаряда(час): "min": 1, "max": 240\nmScn Число циклов разряд-заряд: "min": 1, "max": 10" step="1\nmsetDU Минимальное напряжение (В): "min": ~msetDUl~, "max": ~msetDUh~" step="~steps~\nmsetDI Ток разряда (А): "min": ~msetDIl~, "max": ~msetDIh~" step="~steps~\nmsetWT Пауза перед разрядом (ч): "min": 0, "max": 5" step="0.5\nfdisFU Разряд при увеличении напряжения более (В): "min": 0.05, "max": 1.0\nfdisFI Ток разряда (А): "min": ~fdisFIl~, "max": ~fdisFIh~\nfdisT Пауза (мин): "min": 1, "max": 30  --> <button type="button" class="btn btn-primary" ng-click="createAlert()"></button> <div class="container"> <img src="/images/kulon912.png" alt=""> <h2>ЗАРЯД АКБ</h2><h3>РАСШИРЕННЫЙ РЕЖИМ</h3> <h3 style="text-align:center;color:#999">Параметры аккумулятора: {{form.tekU}} B {{form.tekI}} Aч</h3> </div> <div class="container"> <div class="jumbotron"> <h4> {{form.stat_m}} </h4> <h2> {{form.tekU}} <br> {{form.tekI}} </h2> <h4> {{form.info_msg}} </h4> </div> </div> <div class="container-fluid"> <div class="row"> <div class="col-md-6"> <div class="page-header"> <h1>Заряд</h1> </div> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">Заряд</h3> </div> <!-- <div class="panel-body">\n\n        </div> --> <ul class="list-group"> <li class="list-group-item"> <bslider ng-model="form.smainZU" defs="defs.A">Максимальное напряжение (В) {{defs.A}} </bslider></li> <li class="list-group-item"> <bslider ng-model="form.slastZU">Напряжение начала снижения тока(В) </bslider></li> <li class="list-group-item"> <bslider ng-model="form.smainZI">Максимальный ток (A) </bslider></li> </ul> </div> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title"> Асимметричный заряд <switch ng-model="form.smainZR"></switch> </h3> </div> <ul class="list-group" ng-show="form.smainZR"> <!-- Асимметричный заряд --> <li class="list-group-item"> <bslider ng-model="form.smainZRQ">Длительность заряда за период (с) </bslider></li> <li class="list-group-item"> <bslider ng-model="form.smainZRD">Длительность разряда от длительности заряда (%) </bslider></li> <!-- Асимметричный заряд --> <li class="list-group-item"> <h4 class="list-group-item-heading">Окончание заряда <switch width="100px" on="по напряжению" off="по силе тока" ng-model="form.slastZF"></switch></h4> </li> <!-- окончание заряда --> <li class="list-group-item" ng-show="form.slastZF"> <bslider ng-model="form.slastZFI">Ток окончания заряда (А) </bslider></li> <!-- или --> <li class="list-group-item" ng-show="!form.slastZF"> <bslider ng-model="form.slastZFT">Выдержка при установленном напряжении (ч): </bslider></li> <!-- окончание заряда переключатель --> </ul> </div> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title"> Дозаряд <switch ng-model="form.srvDopCh"></switch> </h3> </div> <ul class="list-group" ng-show="form.srvDopCh"> <!-- ДОЗАРЯД --> <li class="list-group-item"> <bslider ng-model="form.srvlowZI">Максимальный ток (A) </bslider></li> <li class="list-group-item"> <bslider ng-model="form.srvlowZT">Максимальная длительность паузы (с) </bslider></li> <li class="list-group-item"> <bslider ng-model="form.srvlowZH">Продолжительность дозаряда(час) </bslider></li> <li class="list-group-item"> <bslider ng-model="form.mScn">Число циклов разряд-заряд </bslider></li> <!-- ДОЗАРЯД --> </ul> </div> </div> <div class="col-md-6"> <div class="page-header"> <h1>Разряд</h1> </div> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title"> РАЗРЯД </h3> </div> <!-- <div class="panel-body">\n\n        </div>\n        <div class="panel-footer">\n        </div> --> <ul class="list-group"> <li class="list-group-item list-group-item-info"> <bslider ng-model="form.msetDU">Минимальное напряжение (В) </bslider></li> <li class="list-group-item"> <bslider ng-model="form.msetDI">Ток разряда (А) </bslider></li> <li class="list-group-item"> <bslider ng-model="form.msetWT">Пауза перед разрядом (ч) </bslider></li> </ul> </div> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title"> Доразряд <switch ng-model="form.fdis" class="pull-right"></switch> </h3> </div> <ul class="list-group" ng-show="form.fdis"> <li class="list-group-item"> <bslider ng-model="form.fdisFU">Разряд при увеличении напряжения более (В) </bslider></li> <li class="list-group-item"> <bslider ng-model="form.fdisFI">Ток разряда (А) </bslider></li> <li class="list-group-item"> <bslider ng-model="form.fdisT">Пауза (мин) </bslider></li> </ul> </div> </div> </div> </div> {{form}}'),a.put("views/charge.html",'<script type="text/ng-template" id="edit.akb.html"><div class="modal-header">\n     <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="cancel">x</button>\n     <h4>ЗАРЯД АКБ <small>Редактирование профиля</small></h4>\n  </div>\n  <div class="modal-body">\n    <!-- ПРОФИЛЬ -->\n\n  </div></script> <!--\nsmainZU Максимальное напряжение: "min": ~smainZUl~, "max": ~smainZUh~\nslastZU Напряжение начала снижения тока: "min": ~slastZUl~, "max": ~slastZUh~\nsmainZI Максимальный ток: "min": ~smainZIl~, "max": ~smainZIh~\nsmainZRQ Длительность заряда за период: "min": 5, "max": 25\nsmainZRD Длительность разряда от длительности заряда: "min": 10, "max": 50\nslastZFI Ток окончания заряда: "min": ~slastZFIl~, "max": ~slastZFIh~\nslastZFT Выдержка при установленном напряжении: "min": 1, "max": 6\nsrvlowZI Максимальный ток: "min": ~srvlowZIl~, "max": ~srvlowZIh~\nsrvlowZT Максимальная длительность паузы: "min": 1, "max": 300\nsrvlowZH Продолжительность дозаряда: "min": 1, "max": 240\nmScn Число циклов разряд-заряд: "min": 1, "max": 10" step="1\nmsetDU Минимальное напряжение: "min": ~msetDUl~, "max": ~msetDUh~" step="~steps~\nmsetDI Ток разряда: "min": ~msetDIl~, "max": ~msetDIh~" step="~steps~\nmsetWT Пауза перед разрядом: "min": 0, "max": 5" step="0.5\nfdisFU Разряд при увеличении напряжения более: "min": 0.05, "max": 1.0\nfdisFI Ток разряда: "min": ~fdisFIl~, "max": ~fdisFIh~\nfdisT Пауза: "min": 1, "max": 30  --> <div class="container"> <div class="jumbotron"> <img src="/images/service.png" class="pull-left" alt=""> <h2>СЕРВИС АКБ<br> <small>РАСШИРЕННЫЙ РЕЖИМ</small> </h2> <h3 class="text-center">Параметры аккумулятора: {{form.tekU}} B {{form.tekI}} Aч</h3> <h4> {{form.stat_m}} </h4> <h2> {{form.tekU}} <br> {{form.tekI}} </h2> <h4> {{form.info_msg}} </h4> </div> </div> <div class="container-fluid"> <div class="row"> <div class="col-md-6"> <div class="page-header"> <h1>Заряд</h1> </div> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title inline">Заряд</h3> <toggle ng-model="form.ZR" class="pull-right"> </toggle></div> <!-- <div class="panel-body">\n\n        </div> --> <ul class="list-group" ng-show="form.ZR"> <li class="list-group-item"> <bslider ng-model="form.setUp" defs="defs.U">Максимальное напряжение </bslider></li> <li class="list-group-item"> <bslider ng-model="form.setIp" defs="defs.I">Максимальный ток </bslider></li> <li class="list-group-item"> <bslider ng-model="form.lastZU" defs="defs.U">Напряжение начала снижения тока </bslider></li> <li class="list-group-item"> <h4 class="list-group-item-heading">Окончание заряда <toggle on="по напряжению" off="по силе тока" ng-model="form.lastZF"></toggle></h4> </li> <!-- окончание заряда --> <li class="list-group-item" ng-show="!form.lastZF"> <bslider ng-model="form.lastZFI" defs="defs.I">Ток окончания заряда </bslider></li> <!-- или --> <li class="list-group-item" ng-show="form.lastZF"> <bslider ng-model="form.lastZFT" defs="defs.H">Выдержка при установленном напряжении </bslider></li> <!-- окончание заряда переключатель --> <li class="list-group-item"> <bslider ng-model="form.mScn">Число циклов разряд-заряд </bslider></li> </ul> <div class="panel-footer" ng-show="form.ZR"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title"> Асимметричный заряд </h3> <toggle ng-model="form.mainZR" class="pull-right"> </toggle></div> <ul class="list-group" ng-show="form.mainZR"> <!-- Асимметричный заряд --> <li class="list-group-item"> <bslider ng-model="form.mainZRQ" defs="defs.S">Длительность заряда за период </bslider></li> <li class="list-group-item"> <bslider ng-model="form.mainZRD" defs="defs.PROC">Длительность разряда от длительности заряда </bslider></li> <!-- Асимметричный заряд --> </ul> </div> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title"> Дозаряд <toggle ng-model="form.srvDopCh" class="pull-right"> </toggle></h3> </div> <ul class="list-group" ng-show="form.srvDopCh"> <!-- ДОЗАРЯД --> <li class="list-group-item"> <bslider ng-model="form.srvDUZ" defs="defs.I">Диапазон напряжений дозаряда </bslider></li> <li class="list-group-item"> <bslider ng-model="form.srvlowZI" defs="defs.I">Максимальный ток </bslider></li> <li class="list-group-item"> <bslider ng-model="form.srvlowZT" defs="defs.S">Максимальная длительность паузы </bslider></li> <li class="list-group-item"> <bslider ng-model="form.srvlowZH" defs="defs.H">Продолжительность дозаряда </bslider></li> <!-- ДОЗАРЯД --> </ul> </div> </div> </div> </div> <div class="col-md-6"> <div class="page-header"> <h1>Разряд</h1> </div> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title"> РАЗРЯД </h3> </div> <!-- <div class="panel-body">\n\n        </div>\n        <div class="panel-footer">\n        </div> --> <ul class="list-group"> <li class="list-group-item list-group-item-info"> <bslider ng-model="form.setDU" defs="defs.U">Минимальное напряжение </bslider></li> <li class="list-group-item"> <bslider ng-model="form.setDI" defs="defs.I">Ток разряда </bslider></li> <li class="list-group-item"> <bslider ng-model="form.setWT" defs="defs.H">Пауза перед разрядом </bslider></li> </ul> <div class="panel-footer"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title"> Доразряд <switch ng-model="form.fdis" class="pull-right"></switch> </h3> </div> <ul class="list-group" ng-show="form.fdis"> <li class="list-group-item"> <bslider ng-model="form.fdisFU" defs="defs.U">Разряд при увеличении напряжения более </bslider></li> <li class="list-group-item"> <bslider ng-model="form.fdisFI" defs="defs.I">Ток разряда </bslider></li> <li class="list-group-item"> <bslider ng-model="form.fdisT" defs="defs.M">Пауза </bslider></li> </ul> </div> </div> </div> </div> </div> </div>'),a.put("views/main.html",'<script type="text/ng-template" id="edit.akb.html"><div class="modal-header">\n     <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="cancel()">x</button>\n     <h4>ЗАРЯД АКБ <small>Редактирование профиля</small></h4>\n  </div>\n  <div class="modal-body">\n    <!-- ПРОФИЛЬ -->\n\n  </div></script> <!--\n{\n"err_num":"0",\n"err_msg":"",\n"stat_m":"Тестовый режим",\n"info_msg":"Время заряда 05ч 30м",\n"tekU":"14.6В",\n"tekI":"0.3А",\n"setUp":"14.8",\n"setIp":"5.2",\n"setUpn":"14.5",\n"setIpn":"6.2",\n"setdelSb":"0",\n"setDp":"1",\n"setPb":"1",\n"setPon":"5",\n"setPoff":"10",\n"setp1":"Прфиль 1",\n"setp2":"Мой вариант",\n"setp3":"Просто заряд"\n}\n  --> <div class="container"> <div class="jumbotron"> <img src="/images/kulon912.png" class="pull-left" alt=""> <h3 class="text-center">Параметры аккумулятора: {{form.tekU}} B {{form.tekI}} Aч</h3> <h4> {{form.stat_m}} </h4> <h2> {{form.tekU}} <br> {{form.tekI}} </h2> <h4> {{form.info_msg}} </h4> </div> </div> <ul class="list-group"> <li class="list-group-item"> <bslider ng-model="form.setUp" defs="defs.U">setUp </bslider></li> <li class="list-group-item"> <bslider ng-model="form.setIp" defs="defs.I">setIp </bslider></li> <li class="list-group-item"> <bslider ng-model="form.setUpn" defs="defs.U">setUpn </bslider></li> <li class="list-group-item"> <bslider ng-model="form.setIpn" defs="defs.I">setIpn </bslider></li> <li class="list-group-item"> setdelSb: <toggle ng-model="form.setdelSb" on="1" off="0"></toggle> </li> <li class="list-group-item"> setDp: <toggle ng-model="form.setDp" on="1" off="0">setDp</toggle> </li> <li class="list-group-item"> setPb: <toggle ng-model="form.setPb" on="1" off="0"></toggle> </li> <li class="list-group-item"> <bslider ng-model="form.setPon" defs="defs.I">setPon </bslider></li> <li class="list-group-item"> <bslider ng-model="form.setPoff" defs="defs.I">setPoff </bslider></li> </ul> <div class="list-group"> <a ng-href="#!/setp1" class="list-group-item">{{form.setp1}}</a> <a ng-href="#!/setp2" class="list-group-item">{{form.setp2}}</a> <a ng-href="#!/setp3" class="list-group-item">{{form.setp3}}</a> </div>'),a.put("views/power.html","<p>This is the power view.</p>"),a.put("views/settings.html","<p>Здесь будут настройки</p>")}]);